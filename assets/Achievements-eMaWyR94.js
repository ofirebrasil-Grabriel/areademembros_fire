import{j as e,s as k,g as C,a as y}from"./index-CiRdGeTh.js";import{r as i}from"./vendor-gtDS_TVX.js";import{L as v,A as w,n as N,l as b,o as q,Z as z,p as D,k as T,q as S,r as E,d as F}from"./ui-R5Y-RMdR.js";import"./supabase-CBvtPKqy.js";const R=()=>{const[c,m]=i.useState([]),[x,u]=i.useState(!0),[d,p]=i.useState({daysCompleted:0,tasksCompleted:0});return i.useEffect(()=>{(async()=>{const{data:{user:r}}=await k.auth.getUser(),f=(r==null?void 0:r.id)||"mock-user-id",[h,n]=await Promise.all([C(),y(f)]),a=n.length;let s=0;h.forEach(j=>{const l=j.tasks.map(o=>o.id);l.length>0&&l.every(o=>n.includes(o))&&s++}),p({daysCompleted:s,tasksCompleted:a});const g=[{id:"start",title:"Primeiro Passo",description:"Completou o Dia 1 do desafio.",icon:e.jsx(N,{size:32}),unlocked:s>=1,requirement:"Completar Dia 1"},{id:"focus",title:"Foco Total",description:"Completou 5 tarefas.",icon:e.jsx(b,{size:32}),unlocked:a>=5,requirement:"5 Tarefas"},{id:"executor",title:"Executor",description:"Completou 10 tarefas.",icon:e.jsx(q,{size:32}),unlocked:a>=10,requirement:"10 Tarefas"},{id:"momentum",title:"Pegando Ritmo",description:"Completou 3 dias consecutivos.",icon:e.jsx(z,{size:32}),unlocked:s>=3,requirement:"Completar 3 Dias"},{id:"halfway",title:"Meio Caminho",description:"Chegou na metade! 7 dias completados.",icon:e.jsx(D,{size:32}),unlocked:s>=7,requirement:"Completar 7 Dias"},{id:"imparavel",title:"Imparável",description:"Completou 25 tarefas.",icon:e.jsx(T,{size:32}),unlocked:a>=25,requirement:"25 Tarefas"},{id:"reta_final",title:"Reta Final",description:"Completou 12 dias do desafio.",icon:e.jsx(S,{size:32}),unlocked:s>=12,requirement:"Completar 12 Dias"},{id:"lenda_desafio",title:"Lenda do Desafio",description:"Completou 40 tarefas.",icon:e.jsx(E,{size:32}),unlocked:a>=40,requirement:"40 Tarefas"},{id:"fire_master",title:"Mestre FIRE",description:"Completou todo o desafio de 15 dias.",icon:e.jsx(F,{size:32}),unlocked:s>=15,requirement:"Completar 15 Dias"}];m(g),u(!1)})()},[]),x?e.jsx("div",{className:"text-center text-fire-gray py-12",children:"Carregando conquistas..."}):e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl font-bold text-white font-montserrat mb-2",children:"Suas Conquistas"}),e.jsx("p",{className:"text-fire-gray",children:"Desbloqueie medalhas à medida que avança na sua jornada financeira."}),e.jsxs("div",{className:"flex justify-center gap-8 mt-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-fire-orange",children:d.daysCompleted}),e.jsx("div",{className:"text-xs text-fire-gray uppercase tracking-widest",children:"Dias Completos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400",children:d.tasksCompleted}),e.jsx("div",{className:"text-xs text-fire-gray uppercase tracking-widest",children:"Tarefas Feitas"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(t=>e.jsxs("div",{className:`
              relative p-6 rounded-2xl border transition-all duration-300
              ${t.unlocked?"bg-fire-secondary/40 border-fire-orange/30 shadow-[0_0_20px_rgba(255,102,0,0.1)]":"bg-white/5 border-transparent opacity-60 grayscale"}
            `,children:[e.jsx("div",{className:`
              w-16 h-16 rounded-full flex items-center justify-center mb-4 mx-auto
              ${t.unlocked?"bg-gradient-to-br from-fire-orange to-red-600 text-white shadow-lg":"bg-white/10 text-white/20"}
            `,children:t.unlocked?t.icon:e.jsx(v,{size:24})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`text-lg font-bold mb-2 ${t.unlocked?"text-white":"text-fire-gray"}`,children:t.title}),e.jsx("p",{className:"text-sm text-fire-gray mb-4 min-h-[40px]",children:t.description}),!t.unlocked&&e.jsxs("div",{className:"text-xs font-bold text-fire-gray/50 uppercase tracking-widest border-t border-white/5 pt-2",children:["Requer: ",t.requirement]}),t.unlocked&&e.jsxs("div",{className:"text-xs font-bold text-green-400 uppercase tracking-widest border-t border-white/5 pt-2 flex items-center justify-center gap-1",children:[e.jsx(w,{size:12})," Desbloqueado"]})]})]},t.id))})]})};export{R as Achievements};
