import{j as e,i as g}from"./index-BzRcWxia.js";import{r}from"./vendor-Cwg8D7Hp.js";import{N as b,O as j,y as o,U as y,Q as v,V as w,D as N,w as z}from"./ui-C5d7_9yU.js";import"./supabase-DfaSXaSt.js";const L=()=>{const[n,c]=r.useState([]),[d,u]=r.useState(!0),[i,x]=r.useState(""),[t,p]=r.useState("all");r.useEffect(()=>{(async()=>{const a=await g();c(a),u(!1)})()},[]);const l=n.filter(s=>{const a=s.title.toLowerCase().includes(i.toLowerCase()),f=t==="all"||s.type===t;return a&&f}),h=s=>{switch(s){case"pdf":return e.jsx(z,{size:20});case"sheet":return e.jsx(N,{size:20});case"video":return e.jsx(w,{size:20});case"audio":return e.jsx(v,{size:20});case"community":return e.jsx(y,{size:20});default:return e.jsx(o,{size:20})}},m=s=>{switch(s){case"pdf":return"text-red-400 bg-red-400/10 border-red-400/20";case"sheet":return"text-green-400 bg-green-400/10 border-green-400/20";case"video":return"text-purple-400 bg-purple-400/10 border-purple-400/20";case"audio":return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20";default:return"text-blue-400 bg-blue-400/10 border-blue-400/20"}};return e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white font-montserrat",children:"Biblioteca"}),e.jsx("p",{className:"text-fire-gray",children:"Todos os seus materiais, planilhas e guias em um só lugar."})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-fire-gray",size:18}),e.jsx("input",{type:"text",placeholder:"Buscar materiais...",value:i,onChange:s=>x(s.target.value),className:"w-full bg-black/30 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white focus:border-fire-orange outline-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-fire-gray",size:16}),e.jsxs("select",{value:t,onChange:s=>p(s.target.value),className:"bg-black/30 border border-white/10 rounded-lg pl-10 pr-8 py-2.5 text-white focus:border-fire-orange outline-none appearance-none",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"pdf",children:"PDFs"}),e.jsx("option",{value:"sheet",children:"Planilhas"}),e.jsx("option",{value:"video",children:"Vídeos"}),e.jsx("option",{value:"audio",children:"Áudios"})]})]})]})]}),d?e.jsx("div",{className:"text-center text-fire-gray py-12",children:"Carregando biblioteca..."}):l.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(s=>e.jsxs("a",{href:s.url,target:"_blank",rel:"noreferrer",className:"bg-fire-secondary/20 border border-white/5 rounded-xl p-5 hover:bg-fire-secondary/40 hover:border-white/10 transition-all group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg border ${m(s.type)}`,children:h(s.type)}),e.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-fire-gray bg-white/5 px-2 py-1 rounded",children:["Dia ",s.day_number]})]}),e.jsx("h3",{className:"text-white font-bold mb-1 group-hover:text-fire-orange transition-colors line-clamp-2",children:s.title}),e.jsxs("p",{className:"text-xs text-fire-gray mb-4",children:["Vinculado ao desafio: ",s.day_title]}),e.jsxs("div",{className:"flex items-center text-xs text-fire-gray/60 font-medium uppercase tracking-wider group-hover:text-white transition-colors",children:[s.type==="link"?"Acessar Link":"Baixar Arquivo"," ",e.jsx(o,{size:12,className:"ml-2"})]})]},s.id))}):e.jsx("div",{className:"text-center py-20 border-2 border-dashed border-white/5 rounded-2xl",children:e.jsx("p",{className:"text-fire-gray",children:"Nenhum material encontrado com os filtros atuais."})})]})};export{L as Library};
